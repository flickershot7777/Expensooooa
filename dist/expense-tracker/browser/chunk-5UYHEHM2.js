import{a as I,b as R}from"./chunk-ORZRCDMV.js";import{a as D,b as H}from"./chunk-KOAHGTDB.js";import{B as d,C as f,G as p,J as c,L as n,M as t,N as b,O as v,P as _,Q as m,S as i,T as g,U as l,V as h,c as z,fa as U,ha as C,ia as y,la as O,ma as M,qa as P,ra as E,sa as S,t as u,u as x,ua as w,va as k,z as a}from"./chunk-ZQFCUUPU.js";function j(r,o){if(r&1&&(n(0,"div",21)(1,"div",22)(2,"strong"),i(3),t(),b(4,"br"),n(5,"small",5),i(6),t()(),n(7,"span",23),i(8),t()()),r&2){let e=o.$implicit,s=m(3);a(3),g(e.productType),a(3),h("",e.category," \u2022 ",e.date,""),a(2),l(" ",s.formatCurrency(e.amount)," ")}}function F(r,o){if(r&1&&(n(0,"div",16)(1,"h3"),i(2,"Recent Expenses"),t(),n(3,"div",17)(4,"div",18)(5,"div",19),p(6,j,9,4,"div",20),t()()()()),r&2){let e=m(2);a(6),c("ngForOf",e.getRecentExpenses())}}function L(r,o){if(r&1){let e=v();n(0,"div",24)(1,"div",25)(2,"div",26),i(3,"\u{1F4DD}"),t(),n(4,"h3"),i(5,"No expenses yet"),t(),n(6,"p",5),i(7,"Start tracking your expenses by adding your first one!"),t(),n(8,"button",27),_("click",function(){u(e);let A=m(2);return x(A.navigateToAddExpense())}),i(9," Add Your First Expense "),t()()()}}function N(r,o){if(r&1&&(n(0,"div",3)(1,"div",4)(2,"h1"),i(3),t(),n(4,"p",5),i(5,"Here's your personal expense overview"),t()(),n(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h5",10),i(11,"\u{1F4B0} Total Expenses"),t(),n(12,"h2"),i(13),t(),n(14,"small"),i(15),t()()()()(),n(16,"div",11)(17,"button",12),i(18," \u2795 Add Expense "),t(),n(19,"button",13),i(20," \u{1F441}\uFE0F View Expenses "),t()(),p(21,F,7,1,"div",14)(22,L,10,0,"div",15),t()),r&2){let e=m();a(3),l("Welcome back, ",e.currentUser==null?null:e.currentUser.name,"!"),a(10),g(e.formatCurrency(e.totalExpenses)),a(2),l("",e.userExpenses.length," transactions"),a(6),c("ngIf",e.getRecentExpenses().length>0),a(),c("ngIf",e.userExpenses.length===0)}}function V(r,o){r&1&&(n(0,"div",28)(1,"h1"),i(2,"Welcome to Expense Tracker"),t(),n(3,"p"),i(4,"Please log in to access your personal expense dashboard."),t(),n(5,"a",29),i(6,"Login"),t()())}var T,Y=z(()=>{k();M();U();H();R();k();M();T=class r{constructor(o,e,s){this.authService=o;this.expenseService=e;this.router=s}currentUser=null;userExpenses=[];totalExpenses=0;subscriptions=[];ngOnInit(){let o=this.authService.currentUser$.subscribe(s=>{this.currentUser=s,s?this.loadUserData():this.resetData()});this.subscriptions.push(o);let e=this.expenseService.expenses$.subscribe(s=>{this.userExpenses=s,this.updateStats()});this.subscriptions.push(e)}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}loadUserData(){this.totalExpenses=this.expenseService.getTotalAmount()}updateStats(){this.totalExpenses=this.userExpenses.reduce((o,e)=>o+e.amount,0)}resetData(){this.userExpenses=[],this.totalExpenses=0}logout(){this.authService.logout()}get isAuthenticated(){return this.authService.isAuthenticated()}navigateToAddExpense(){this.router.navigate(["/add-expense"])}navigateToViewExpenses(){this.router.navigate(["/view-expense"])}formatCurrency(o){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o)}getRecentExpenses(){return this.userExpenses.sort((o,e)=>new Date(e.date).getTime()-new Date(o.date).getTime()).slice(0,5)}static \u0275fac=function(e){return new(e||r)(d(D),d(I),d(P))};static \u0275cmp=f({type:r,selectors:[["app-home"]],decls:3,vars:2,consts:[[1,"container","text-center","my-5"],["class","dashboard",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"dashboard"],[1,"welcome-section","mb-4"],[1,"text-muted"],[1,"row","mb-4"],[1,"col-md-6","mx-auto"],[1,"card","bg-primary","text-white"],[1,"card-body"],[1,"card-title"],[1,"action-buttons","mb-4"],["routerLink","/add-expense","routerLinkActive","active",1,"btn","btn-primary","btn-lg",2,"border-radius","25px","margin-right","10px"],["routerLink","/view-expense","routerLinkActive","active",1,"btn","btn-secondary","btn-lg",2,"border-radius","25px","margin-right","10px"],["class","recent-expenses mb-4",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"recent-expenses","mb-4"],[1,"row"],[1,"col-12"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"text-start"],[1,"badge","bg-primary","rounded-pill"],[1,"empty-state"],[1,"text-center","py-5"],[2,"font-size","4rem"],[1,"btn","btn-primary","btn-lg",2,"border-radius","25px",3,"click"],[1,"text-center"],["routerLink","/login",1,"btn","btn-primary","btn-lg"]],template:function(e,s){e&1&&(n(0,"div",0),p(1,N,23,5,"div",1)(2,V,7,0,"div",2),t()),e&2&&(a(),c("ngIf",s.isAuthenticated),a(),c("ngIf",!s.isAuthenticated))},dependencies:[O,C,y,w,E,S],styles:[".home-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.welcome-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;font-size:2.5rem;margin-bottom:.5rem}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;font-size:1.1rem}.dashboard-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;margin-bottom:2rem}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 4px 6px #0000001a;border:1px solid #e1e5e9}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:1.2rem}.card-icon[_ngcontent-%COMP%]{font-size:1.5rem}.total-card[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#27ae60}.action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;margin:.5rem 0;width:100%;justify-content:center}.action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a6fd8,#6a4190);transform:translateY(-2px)}.action-btn.secondary[_ngcontent-%COMP%]{background:#f8f9fa;color:#495057;border:1px solid #dee2e6}.action-btn.secondary[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translateY(-2px)}.recent-expenses[_ngcontent-%COMP%], .category-overview[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 4px 6px #0000001a}.recent-expenses[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .category-overview[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1rem;font-size:1.5rem}.expenses-list[_ngcontent-%COMP%]{margin-bottom:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid #e1e5e9;transition:background-color .3s ease}.expense-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.expense-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.expense-info[_ngcontent-%COMP%]{flex:1}.expense-title[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;margin-bottom:.25rem}.expense-category[_ngcontent-%COMP%]{color:#7f8c8d;font-size:.9rem;margin-bottom:.25rem}.expense-date[_ngcontent-%COMP%]{color:#95a5a6;font-size:.8rem}.expense-amount[_ngcontent-%COMP%]{font-weight:700;color:#e74c3c;font-size:1.1rem}.view-all-btn[_ngcontent-%COMP%]{background:transparent;color:#3498db;border:1px solid #3498db;padding:.5rem 1rem;border-radius:6px;cursor:pointer;transition:all .3s ease}.view-all-btn[_ngcontent-%COMP%]:hover{background:#3498db;color:#fff}.category-list[_ngcontent-%COMP%]{display:grid;gap:.75rem}.category-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:#f8f9fa;border-radius:6px}.category-name[_ngcontent-%COMP%]{color:#2c3e50;font-weight:500}.category-amount[_ngcontent-%COMP%]{color:#e74c3c;font-weight:700}.empty-state[_ngcontent-%COMP%]{text-align:center;background:#fff;border-radius:12px;padding:3rem;box-shadow:0 4px 6px #0000001a}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin-bottom:1.5rem}@media (max-width: 768px){.home-container[_ngcontent-%COMP%]{padding:1rem}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.dashboard-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.expense-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.expense-amount[_ngcontent-%COMP%]{align-self:flex-end}}"]})}});Y();export{T as HomeComponent};
