import{a as M,b as m,c as y,d as P,g as S,i as L,j as O,p as E,r as I,s as F}from"./chunk-JAVO4RIC.js";import{a as w,b as z}from"./chunk-KOAHGTDB.js";import{B as p,C as f,G as d,J as s,K as c,L as t,M as i,N as u,P as _,Q as g,S as l,U as v,c as N,fa as k,ia as b,la as h,ma as x,qa as C,va as q,z as r}from"./chunk-ZQFCUUPU.js";function D(n,a){n&1&&(t(0,"span"),l(1,"Email is required"),i())}function G(n,a){n&1&&(t(0,"span"),l(1,"Please enter a valid email"),i())}function A(n,a){if(n&1&&(t(0,"div",14),d(1,D,2,0,"span",12)(2,G,2,0,"span",12),i()),n&2){let o=g();r(),s("ngIf",o.email==null||o.email.errors==null?null:o.email.errors.required),r(),s("ngIf",o.email==null||o.email.errors==null?null:o.email.errors.email)}}function j(n,a){n&1&&(t(0,"span"),l(1,"Password is required"),i())}function R(n,a){n&1&&(t(0,"span"),l(1,"Password must be at least 6 characters"),i())}function B(n,a){if(n&1&&(t(0,"div",14),d(1,j,2,0,"span",12)(2,R,2,0,"span",12),i()),n&2){let o=g();r(),s("ngIf",o.password==null||o.password.errors==null?null:o.password.errors.required),r(),s("ngIf",o.password==null||o.password.errors==null?null:o.password.errors.minlength)}}function V(n,a){if(n&1&&(t(0,"div",15),l(1),i()),n&2){let o=g();r(),v(" ",o.errorMessage," ")}}function W(n,a){n&1&&(t(0,"span"),l(1,"Logging in..."),i())}function H(n,a){n&1&&(t(0,"span"),l(1,"Login"),i())}var T,J=N(()=>{F();x();k();F();z();q();x();T=class n{constructor(a,o,e){this.fb=a;this.authService=o;this.router=e;this.loginForm=this.fb.group({email:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]]}),this.authService.isAuthenticated()&&this.router.navigate(["/home"])}loginForm;isLoading=!1;errorMessage="";onSubmit(){if(this.loginForm.valid){this.isLoading=!0,this.errorMessage="";let{email:a,password:o}=this.loginForm.value;this.authService.login(a,o).subscribe({next:e=>{this.isLoading=!1,e?this.router.navigate(["/home"]):this.errorMessage="Invalid credentials"},error:e=>{this.isLoading=!1,this.errorMessage="Login failed. Please try again."}})}}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}static \u0275fac=function(o){return new(o||n)(p(E),p(w),p(C))};static \u0275cmp=f({type:n,selectors:[["app-login"]],decls:25,vars:11,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","error-message",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],["class","error-message global-error",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],[1,"login-footer"],[1,"error-message"],[1,"error-message","global-error"]],template:function(o,e){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),l(4,"Welcome to Expensoo"),i(),t(5,"p"),l(6,"Track your expenses with ease"),i()(),t(7,"form",3),_("ngSubmit",function(){return e.onSubmit()}),t(8,"div",4)(9,"label",5),l(10,"Email"),i(),u(11,"input",6),d(12,A,3,2,"div",7),i(),t(13,"div",4)(14,"label",8),l(15,"Password"),i(),u(16,"input",9),d(17,B,3,2,"div",7),i(),d(18,V,2,1,"div",10),t(19,"button",11),d(20,W,2,0,"span",12)(21,H,2,0,"span",12),i()(),t(22,"div",13)(23,"p"),l(24,"Demo credentials: any email and password (6+ chars)"),i()()()()),o&2&&(r(7),s("formGroup",e.loginForm),r(4),c("error",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),r(),s("ngIf",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),r(4),c("error",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),r(),s("ngIf",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),r(),s("ngIf",e.errorMessage),r(),s("disabled",e.loginForm.invalid||e.isLoading),r(),s("ngIf",e.isLoading),r(),s("ngIf",!e.isLoading))},dependencies:[I,S,M,y,P,L,O,h,b],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#04209c,#764ba2);padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 15px 35px #0000001a;padding:40px;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;margin-bottom:8px;font-size:28px;font-weight:600}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.login-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#333;font-weight:500}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e1e5e9;border-radius:6px;font-size:16px;transition:border-color .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-control.error[_ngcontent-%COMP%]{border-color:#e74c3c}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:14px;margin-top:5px}.global-error[_ngcontent-%COMP%]{background:#ffeaea;border:1px solid #e74c3c;border-radius:4px;padding:10px;margin-bottom:20px}.btn[_ngcontent-%COMP%]{width:100%;padding:12px 24px;border:none;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#5a6fd8,#6a4190)}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.login-footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:20px;border-top:1px solid #e1e5e9}.login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}"]})}});J();export{T as LoginComponent};
